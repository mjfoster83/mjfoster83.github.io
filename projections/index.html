<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Projections and Coordinate Systems</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css" id="theme">
		<link rel="stylesheet" href="lib/css/custom.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background="lib/img/mercator-projection.jpg">
					<h1>Projections and Coordinate Systems</h1>
					<h3>for the modern mapper</h3>
					<p>
						<small>Created by <a href="http://twitter.com/mjfoster83">Mike Foster</a> for <a href="http://maptimeboston.github.io">Maptime Boston</a></small>
					</p>
				</section>

				<section data-background="lib/img/boston-back-bay.jpg">
					<h2>Hi! I'm Mike. I make maps.</h2>
					<p>
						I am a biker, sailor, and skier... and also<br>a geographer, planner, web guy, and educator.
					</p>

				</section>

				<section>
					<img src="lib/img/affiliations.png" alt="affiliations" style="box-shadow: none; border: none; background: none;"><br><em>GIS/Data Visualization Specialist</em><br>MIT Department of Urban Studies and Planning<br><br>
					<a href="mailto:mjfoster@mit.edu?Subject=Maptime" target="_top">mjfoster@mit.edu</a> | <a href="http://twitter.com/mjfoster83">@mjfoster83</a>
				</section>

				<section>
					<h2>Follow Along</h2>
					<p>
						<a href="http://mjfoster83.github.io/projections">http://mjfoster83.github.io/projections</a>
					</p>
				</section>

				<section>
					<h2>Map Projections Matter</h2>
					<p>
						Don't they?
					</p>
				</section>

				<section>
					<p>
						<q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;Projections in web browsers are terrible and you should be ashamed of yourself&rdquo;</q><br><br>- Calvin Metcalf
					</p>
				</section>

				<section>
					<h2>For those of you dropping points<br>on web maps...</h2>
					<p>
						You can ignore about 90% of this, but please pay attention...<br>that last 10% matters!
					</p>
				</section>

				<section>
					<h2>In what way, you say?</h2>
				</section>


				<section>
					<p>To where were The Proclaimers walking?<br>
						<img src="lib/img/hazel-proclaimers.png"><br>
						<em><small>Hazel McKendrick</small></em>
					</p>
				</section>

				<section>
					<p>Where The Proclaimers were <em>actually</em> walking.<br>
						<img src="lib/img/proclaimers-actual.jpg" height="500px"><br>
						<em><small><a href="https://twitter.com/kennethfield">Kenneth Field</a></small></em>
					</p>
				</section>

				<section>
					<p>Where is Boston?<br>
						<img src="lib/img/eight-projections.png">
					</p>
				</section>

				<section>
					<p>
						North Korea's Missile Threat<br>
						I don't think this is right...<br>
						<img src="lib/img/korea-missile-nonprojected.jpg"><br>
						<em><small><a href="http://www.economist.com">The Economist</a></small></em>
					</p>
				</section>

				<section>
					<p>
						North Korea's Missile Threat<br>
						There we go. Ahh!<br>
						<img src="lib/img/korea-missile-projected.jpg"><br>
						<em><small><a href="http://www.economist.com/node/1788311">The Economist</a></small></em>
					</p>
				</section>

				<section data-background="lib/img/mercator-projection.jpg">
					<h2>Oy. Okay.</h2>
					<p>
						Let's talk map projections.
					</p>
				</section>

				<section data-background="lib/img/geodesist.jpg">
					<h2>Introducing: Geodesy</h2>
				</section>

				<section>
					<h2>Geodesy</h2>
					<p>The science of accurately measuring and understanding the Earth's geometric shape, orientation in space, and gravitational field.
					</p>
				</section>

				<section>
					<h2>The earth looks like...</h2>
					<p>
						<img src="lib/img/lumpy-earth.png">
					</p>
				</section>

				<section>
					<h2>Geoid</h2>
					<p>
						<img src="lib/img/geoid.png">
					</p>
				</section>

				<section>
					<h2>Geoid</h2>
					<p>Geodesists define the Earth's surface as <b>a surface that closely approximates global mean sea level</b>, but across which gravity is everywhere equal. This is the geoid. <b>Geoids are lumpy because gravity varies from place to place</b> in response to local differences in topography and variations in the density of the materials in the Earth's interior.
					</p>
				</section>

				<section>
					<h2>Geoid</h2>
					<p>Geoids are a little squat. Sea-level gravity is greater at the poles than the equator, a consequence of the Earth's oblate shape and centrifugal force.
					</p>
				</section>

				<section>
					<p>
						<img src="lib/img/geoid-oblate.png">
					</p>
				</section>

				<section>
					<h2>Ellipsoid</h2>
					<p>Ellipsoids, or spheroids, are commonly used as surrogates for geoids so as to simplify the mathematics involved in relating a coordinate system grid with a model of the Earth's shape. Ellipsoids are good, but not perfect, approximations of geoids.
					</p>
				</section>

				<section>
					<h2>Ellipsoid</h2>
					<p>There are many ellipsoids. Local ellipsoids minimize differences between the geoid and ellipsoid on a local or regional scale.
					</p>
				</section>

				<section>
					<p>
						<img src="lib/img/ellipsoid-red.jpg">
					</p>
				</section>

				<section>
					<h2>Geoids and Ellipsoids</h2>
					<p>
						<img src="lib/img/ellipsoid.png">
					</p>
				</section>

				<section  data-background="lib/img/meades-ranch.png">
					<h2>Clarke 1866</h2>
					<p>Is the ellipsoid is optimized for North America.</p>
					<p class="fragment">Centered at Meade's Ranch, Kansas.<br>
						Where the geoidal height is considered to be zero.</p>
				</section>

				<section  data-background="lib/img/meades-ranch.png">
					<h2>Using Clarke 1866</h2>
					<p>Latitude and longitude of every other point in North America is based on distance and direction from Meade's Ranch.</p>
				</section>

				<section>
					<h2>Common Ellipsoids</h2>
					<p><b>Clarke 1866</b> - North American Ellipsoid<br>
						<b>GRS 1980</b> - Geodetic Reference System of 1980 (Global)<br>
						<b>WGS 1984</b> - World Geodetic System of 1984 (Global)
					</p>
					<img src="lib/img/ellipse-axis.png">
				</section>

				<section>
					<h2>GRS 1980 vs. WGS 1984</h2>
					<table>
						<thead>
							<tr>
								<th>Ellipsoid</th>
								<th>Semi-major Axis (a)</th>
								<th>Semi-minor Axis (b)</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>GRS 1980</td>
								<td>6,378,137.0 m</td>
								<td>6,356,752.314140 m</td>
							<tr>
							<tr>
								<td>WGS 1984</td>
								<td>6,378,137.0 m</td>
								<td>6,356,752.314245 m</td>
							<tr>
						</tbody>
					</table>
					<p>tl;dr<br>Very small differences in the semi-minor axis (north pole to south pole) result in minute difference in flattening.</p>
				</section>

				<section>
					<h2>Datums</h2>
					<p>Based off of ellipsoids, but allow for local variations in elevation.<br><em>Pssst... WGS 1984 is a 'global datum'...</em>
					</p>
				</section>


				<section>
					<h2>Major North American Datums (NAD)</h2>
					<table>
						<thead>
							<tr>
								<th>Regional Datum</th>
								<th>Ellipsoid</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>1st NAD (1901)</td>
								<td>Clarke 1866</td>
							<tr>
							<tr>
								<td>NAD 1927</td>
								<td>Clarke 1866</td>
							<tr>
							<tr>
								<td>NAD 1983</td>
								<td>GRS 1980</td>
							<tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>NAD 1927 and NAD 1983</h2>
					<p>A point having a given latitude and longitude in NAD 1927 might be displaced on the order of tens of meters from another point having identical latitude and longitude in<br>NAD 1983. It is important to specify.
					</p>
				</section>

				<section>
					<h2>Case: Bellingham, Washington</h2>
					<table>
						<thead>
							<tr>
								<th>Datum</th>
								<th>Longitude</th>
								<th>Latitude</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>NAD 1927</td>
								<td>-122.466903686523</td>
								<td>48.7440490722656</td>
							<tr>
							<tr>
								<td>NAD 1983</td>
								<td>-122.46818353793</td>
								<td>48.7438798543649</td>
							<tr>
							<tr>
								<td>WGS 1984</td>
								<td>-122.46818353793</td>
								<td>48.7438798534299</td>
							<tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>NAD 1927 and NAD 1983</h2>
					<p><img src="lib/img/Datum_Shift_Between_NAD27_and_NAD83.png">
					</p>
				</section>

				<section>
					<h2>NAD 1983 (HARN)</h2>
					<h4>What the heck is HARN?</h4>
					<p>HARN stands for High Accuracy Reference Network. It is a statewide or regional upgrade in accuracy of NAD83.</p>
				</section>

				<section>
					<h2>Worldwide Acceptance</h2>
					<p>GRS 1980 and WGS 1984 are not the best fit for any given region, but as benefits of a global system outweigh the greater accuracy, the global datums are becoming increasingly adopted.
					</p>
					<h4>Unless otherwise noted, GPS data is collected in WGS84</h4>
				</section>

				<section>
					<h2>Most of the Time, when given a latitude and longitude, it will use wgs 1984</h2>
				</section>

				<section data-background="lib/img/mercator-projection.jpg">
					<h1>Map Projections</h1>
				</section>

				<section>
					<h2>Map Projections</h2>
					<p><img src="lib/img/this-much.png">
					</p>
				</section>

				<section>
					<h2>Map Projections</h2>
					<p>The surface of the earth is curved, maps are flat.<br>
						A map projection is the mathematical transformation of the Earth to a flat surface.
					</p>
				</section>

				<section data-background="lib/img/gall-peters-projection.jpg">
					<h2>No matter how you try, the resulting maps always have distortions.</h2>
				</section>

				<section>
					<h2>Four Types of Distortion</h2>
					<ol>
						<li>Conformality - <em>distortion of shape</em></li>
						<li>Distance - <em>distortion of distance</em></li>
						<li>Area - <em>distortion of size</em></li>
						<li>Direction - <em>distortion of direction</em></li>
					</ol>
				</section>

				<section>
					<h2>Possible to retain at least one of these properties, but not all</h2>
				</section>

				<section>
					<p><img src="lib/img/mercator-unsoiled.jpg" style="margin-top:-40px; margin-bottom:30px;">
					</p>
				</section>

				<section>
					<h2>Greenland vs. Africa</h2>
					<p><img src="lib/img/greenland-africa.png">
					</p>
				</section>

				<section>
					<h2>Projection Types</h2>
					<ul>
						<li><b>Conformal</b> - <em>local/small shapes are preserved</em></li>
						<li><b>Equal Area</b> - <em>areas are preserved</em></li>
						<li><b>Equidistant</b> - <em>distance from single location to other locations preserved</em></li>
						<li><b>Azimuthal</b> - <em>direction from single location to other locations preserved</em></li>
					</ul>
				</section>

				<section>
					<h2>Methods of Projection</h2>
					<p><img src="lib/img/projection-method.png">
					</p>
				</section>

				<section>
					<h2>Planar/Azimuthal</h2>
					<ul><li>Earth intersects the plane on a small circle. All points on the circle have no distortion.</li><li>The further away from the plane, the more error incurred.</li></ul><img src="lib/img/planar.png">
					</p>
				</section>

				<section>
					<h2>Cylindrical</h2>
					<ul><li>Conceptualized as the result of wrapping a cylinder of paper around the Earth.</li><li><a href="http://en.wikipedia.org/wiki/Mercator_projection">Mercator is best known.</a></li><li>Conformal when scale is the same in both directions. Significant distortion away from meridian.</li></ul><img src="lib/img/cylindrical.png">
				</section>

				<section>
					<h2>Conic</h2>
					<ul><li>Conceptualized as the result of wrapping a cone of paper around the Earth.</li><li>Standard parallels where cone meets Earth. Map most accurate at these locations.</li><li>Lambert Conformal Conic projection commonly used for North America.</li></ul><img src="lib/img/conic.png">
				</section>

				<section>
					<h2>Coordinate System</h2>
					<p>Coordinate systems are used to accurately identify locations on the surface of the Earth. 
					</p>
					<ul>
						<li>Geographic Coordinate System</li>
						<li>Projected Coordinate System</li>
					</ul>
				</section>

				<section>
					<h2>Geographic Coordinate System</h2>
					<ul>
						<li>Location measured from the curved surface of the earth.</li>
						<li>Units are latitude and longitude.</li>
						<li>"Unprojected" - in 3D</li>
						<li>i.e. WGS 1984, NAD 83</li>
						<li>CAN'T BE USED FOR CALCULATIONS</li>
					</ul>
				</section>

				<section>
					<h2>Projected Coordinate System</h2>
					<ul>
						<li>Location measured from flattened surface.</li>
						<li>Units are meters, feet, and inches.</li>
						<li>"Projected" - in 2D</li>
						<li>i.e. UTM, State Plane</li>
						<li>USED FOR CALCULATIONS (in limited contexts)</li>
					</ul>
				</section>

				<section>
					<h2>UTM: Universal Transverse Mercator</h2>
					<p>International Global Standard</p>
					<ul>
						<li>Cylindrical. Transverse. Cyclinder wrapped around the poles.</li>
						<li>60 zones. 6 degrees each. Max Distortion: 0.04%</li>
					</ul>
					<img src="lib/img/utm.png">
				</section>

				<section>
					<h2>UTM Zones</h2>
					<p>Boston is in Zone 19 North!<br><img src="http://www.gpsinformation.org/utm-zones.gif">
					</p>
				</section>

				<section>
					<h2>UTM Coordinates</h2>
					<p>Northing and Easting. Measured in meters.</p><img src="lib/img/utm_zone_characteristics.png" width="350px">
				</section>

				<section>
					<h2>Boston Logan Int'l Airport</h2>
					<p>UTM Zone 19 North, <strong>333,475.33</strong>mE, <strong>4,692,503.57</strong>mN<br><img src="lib/img/utm_zone_characteristics.png">
					</p>
				</section>

				<section>
					<h2>State Plane</h2>
					<p>Defined by each state. Can be more accurate than UTM.</p>
					<p>Some states have several. Massachusetts has two.</p>
					<img src="lib/img/mass-state-plane.gif">
				</section>

				<section>
					<h2>Map Projections? I thought we were talking Rat Projections!</h2>
					<p>Thank you, Doug Greenfield</p>
				</section>

				<section>
					<p><img src="lib/img/rat-projections.jpg" style="margin-top:-40px; margin-bottom:30px;">
					</p>
				</section>

				<section data-background="lib/img/osm-web-mercator-dark.jpg">
					<h1>Projections and Web Mapping</h1>
				</section>

				<section data-background="lib/img/osm-web-mercator-dark.jpg">
					<h2>Web Mercator</h2>
					<p>The de facto standard for web mapping applications.<br>
					</p>
				</section>

				<section data-background="lib/img/osm-web-mercator.png">
				</section>

				<section data-background="lib/img/osm-web-mercator-dark.jpg">
					<h2>Web Mercator</h2>
					<ul>
						<li>Used by almost all major online map providers.</li>
						<li>Google, Bing, Mapquest, Mapbox, OpenStreetMap, etc.</li>
						<li>Slight, simplified variant of the Mercator.</li>
						<li>Simplified to save computing power.</li>
					</ul>
					<img src="lib/img/web-mercator-formula.png">
				</section>

				<section data-background="lib/img/osm-web-mercator-dark.jpg">
					<p>
						<q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;Projections in web browsers are terrible and you should be ashamed of yourself&rdquo;</q><br><br>- Calvin Metcalf
					</p>
				</section>

				<section data-background="lib/img/osm-web-mercator-dark.jpg">
					<h2>Web Mercator</h2>
					<ul>
						<li>Based on WGS 1984 Spheroid.</li>
						<li>Huge distortion at poles. (Actually can't show poles!)</li>
						<li><a href="http://earth-info.nga.mil/GandG/wgs84/web_mercator/">Declared unacceptable for official use</a> by US DOD and NGA. (What?!)</li>
					</ul>
				</section>

				<section data-background="lib/img/mercator-projection.jpg">
					<h1>Projecting Data</h1>
				</section>

				<section>
					<h2>Projecting Data</h2>
					<p>Get your data in the right projection using GIS software!<br>
						Common source of improper overlay. Standardize early.<br>
						Become friends with the reprojection tools.</p>
					<ul>
						<li>ArcMap</li>
						<li>QGIS</li>
					</ul>
					<p>Leaflet does not (easily) use projections. D3 lets you!</p>
				</section>

				<section data-background="lib/img/mercator-projection.jpg">
					<h1>EPSG</h1>
				</section>

				<section>
					<h2>EPSG: Geodetic Parameter Set</h2>
					<ul>
						<li>Name from the European Petroleum Survey Group (now defunct)</li>
						<li>Numeric system that specifies projection.</li>
						<li>Used in many online applications, QGIS, PostGIS, etc.</li>
					</ul>
				</section>

				<section>
					<h2>EPSG: Geodetic Parameter Set</h2>
					<table>
						<thead>
							<tr>
								<th>Spatial Reference</th>
								<th>Code</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>WGS 1984</td>
								<td>EPSG:4326</td>
							<tr>
							<tr>
								<td>NAD 1983</td>
								<td>EPSG:4269</td>
							<tr>
							<tr>
								<td>WGS 84/UTM 19N</td>
								<td>EPSG:32619</td>
							<tr>
						</tbody>
					</table>
					<p><a href="http://spatialreference.org/">Spatial Reference Lookup</a></p>
				</section>


				<section data-background="lib/img/mercator-projection.jpg">
					<h1>Tools and Toys</h1>
				</section>

				<section>
					<h2>Projection Face!</h2>
					<p>Maptime Boston's own Andy Woodruff</p>
					<p><a href="http://bl.ocks.org/awoodruff/9216081">Click to visit</a></p>
				</section>

				<section>
					<h2>Projection Wizard</h2>
					<p>Bojan Savric - Oregon State University</p>
					<p><a href="http://projectionwizard.org/">Click to visit</a></p>
				</section>

				<section>
					<h2>D3 Map Projections</h2>
					<p>Jason Davies</p>
					<p><a href="http://www.jasondavies.com/maps/">Click to visit</a></p>
				</section>

				<section>
					<h2>Project it Yourself!</h2>
					<p>Tom Macwright</p>
					<p><a href="http://www.macwright.org/projectityourself/">Click to visit</a><br>Enter the following to get a Mercator.<br></p>
					<pre><code data-trim contenteditable>function project(x, y) {
    return [x, ( 180/Math.PI) * ( 2 * Math.atan(Math.exp(y * Math.PI/180)) - Math.PI/2 )];
}</code></pre>
				</section>

				<section>
					<h2>Kartograph.org</h2>
					<p>Gregor Aisch - Kartograph.js</p>
					<p><a href="http://kartograph.org/showcase/projections">Click to visit</a></p>
				</section>

				<section>
					<h2>Fire up QGIS</h2>
					<p><a href="https://docs.qgis.org/2.2/en/docs/user_manual/working_with_projections/working_with_projections.html">QGIS Projection Documentation</a></p>
				</section>

				<section data-background="lib/img/rat-projections-dark.png">
					<h2>That is all... Thank you!</h2>
					<p><a href="mailto:mjfoster@mit.edu?Subject=Maptime" target="_top">mjfoster@mit.edu</a> | <a href="http://twitter.com/mjfoster83">@mjfoster83</a></p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
